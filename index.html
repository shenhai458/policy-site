<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¿åºœæ”¿ç­–ç½‘å€å¯¼èˆªç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background-color: #f5f5f5;
            height: 100vh;
            overflow: hidden;
        }
        
        .container {
            display: flex;
            height: 100vh;
        }
        
        .sidebar {
            width: 250px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 0;
            overflow-y: auto;
        }
        
        .header {
            text-align: center;
            padding: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .header h1 {
            font-size: 18px;
            margin-bottom: 5px;
        }
        
        .header p {
            font-size: 12px;
            opacity: 0.8;
        }
        
        .dept-list {
            padding: 10px;
        }
        
        .dept-item {
            margin-bottom: 8px;
        }
        
        .dept-btn {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255,255,255,0.1);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-align: left;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .dept-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(5px);
        }
        
        .dept-btn.active {
            background: rgba(255,255,255,0.3);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: white;
        }
        
        .content-header {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }
        
        .content-header h2 {
            color: #333;
            font-size: 24px;
        }
        
        .website-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .website-card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .website-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        
        .website-title {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        
        .website-desc {
            font-size: 13px;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.4;
        }
        
        .website-link {
            display: inline-block;
            padding: 8px 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .website-link:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            transform: scale(1.05);
        }
        
        .search-box {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .search-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .admin-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ff6b6b;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            z-index: 1000;
        }
        
        .admin-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .btn {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
        }
        
        .btn:hover {
            background: #5a6fd8;
        }
        
        .btn-danger {
            background: #ff6b6b;
        }
        
        .btn-danger:hover {
            background: #ff5252;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }
        
        .empty-state i {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <div class="admin-panel" onclick="showAdminPanel()">ç®¡ç†åå°</div>
    
    <div class="container">
        <div class="sidebar">
            <div class="header">
                <h1>æ”¿åºœæ”¿ç­–å¯¼èˆª</h1>
                <p>é¡¹ç›®ç”³æŠ¥ä¸“ç”¨</p>
            </div>
            <div class="dept-list" id="deptList">
                <!-- éƒ¨é—¨åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="main-content">
            <div class="content-header">
                <h2 id="currentDept">è¯·é€‰æ‹©éƒ¨é—¨</h2>
            </div>
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" placeholder="æœç´¢ç½‘ç«™..." oninput="searchWebsites()">
            </div>
            <div class="website-grid" id="websiteGrid">
                <div class="empty-state">
                    <div>ğŸ“‹</div>
                    <h3>è¯·é€‰æ‹©å·¦ä¾§éƒ¨é—¨æŸ¥çœ‹ç›¸å…³ç½‘ç«™</h3>
                    <p>ç‚¹å‡»å·¦ä¾§æ”¿åºœéƒ¨é—¨æŒ‰é’®ï¼ŒæŸ¥çœ‹å¯¹åº”çš„æ”¿ç­–ç”³æŠ¥ç½‘ç«™</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ç®¡ç†åå°æ¨¡æ€æ¡† -->
    <div class="admin-modal" id="adminModal">
        <div class="modal-content">
            <span class="close-btn" onclick="hideAdminPanel()">&times;</span>
            <h3>ç®¡ç†åå°</h3>
            
            <h4>æ·»åŠ éƒ¨é—¨</h4>
            <div class="form-group">
                <label>éƒ¨é—¨åç§°:</label>
                <input type="text" id="newDeptName" placeholder="ä¾‹å¦‚ï¼šç§‘æŠ€å±€">
                <button class="btn" onclick="addDepartment()">æ·»åŠ éƒ¨é—¨</button>
            </div>
            
            <h4>æ·»åŠ ç½‘ç«™</h4>
            <div class="form-group">
                <label>æ‰€å±éƒ¨é—¨:</label>
                <select id="websiteDept">
                    <!-- éƒ¨é—¨é€‰é¡¹å°†åŠ¨æ€ç”Ÿæˆ -->
                </select>
            </div>
            <div class="form-group">
                <label>ç½‘ç«™åç§°:</label>
                <input type="text" id="websiteName" placeholder="ä¾‹å¦‚ï¼šå›½å®¶ç§‘æŠ€éƒ¨å®˜ç½‘">
            </div>
            <div class="form-group">
                <label>ç½‘ç«™é“¾æ¥:</label>
                <input type="text" id="websiteUrl" placeholder="ä¾‹å¦‚ï¼šhttps://www.most.gov.cn">
            </div>
            <div class="form-group">
                <label>ç½‘ç«™æè¿°:</label>
                <textarea id="websiteDesc" rows="3" placeholder="ç½‘ç«™åŠŸèƒ½æè¿°"></textarea>
            </div>
            <button class="btn" onclick="addWebsite()">æ·»åŠ ç½‘ç«™</button>
            
            <h4 style="margin-top: 30px;">ç°æœ‰ç½‘ç«™ç®¡ç†</h4>
            <div id="websiteManagement">
                <!-- ç½‘ç«™ç®¡ç†åˆ—è¡¨å°†åŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿæ•°æ®å­˜å‚¨ï¼ˆå®é™…é¡¹ç›®ä¸­åº”è¿æ¥æ•°æ®åº“ï¼‰
        let departments = [
            { id: 1, name: 'ç§‘æŠ€å±€' },
            { id: 2, name: 'ç«ç‚¬ç®¡å§”' },
            { id: 3, name: 'å·¥ä¿¡å±€' },
            { id: 4, name: 'äººç¤¾å±€' },
            { id: 5, name: 'å•†åŠ¡å±€' },
            { id: 6, name: 'å‘æ”¹å§”' },
            { id: 7, name: 'è´¢æ”¿å±€' },
            { id: 8, name: 'ç¨åŠ¡å±€' }
        ];
        
        let websites = [
            {
                id: 1,
                deptId: 1,
                name: 'å›½å®¶ç§‘æŠ€éƒ¨',
                url: 'https://www.most.gov.cn',
                description: 'å›½å®¶ç§‘æŠ€éƒ¨å®˜æ–¹ç½‘ç«™ï¼Œå‘å¸ƒæœ€æ–°ç§‘æŠ€æ”¿ç­–å’Œé¡¹ç›®ç”³æŠ¥ä¿¡æ¯'
            },
            {
                id: 2,
                deptId: 1,
                name: 'ç§‘æŠ€å‹ä¸­å°ä¼ä¸šè¯„ä»·',
                url: 'https://fuwu.most.gov.cn',
                description: 'ç§‘æŠ€å‹ä¸­å°ä¼ä¸šè¯„ä»·ç³»ç»Ÿ'
            },
            {
                id: 3,
                deptId: 2,
                name: 'é«˜æ–°åŒºç®¡ç†ç³»ç»Ÿ',
                url: 'https://www.hitech.org.cn',
                description: 'å›½å®¶é«˜æ–°åŒºé¡¹ç›®ç”³æŠ¥å’Œç®¡ç†ç³»ç»Ÿ'
            },
            {
                id: 4,
                deptId: 3,
                name: 'å·¥ä¿¡éƒ¨æ”¿ç­–æ–‡ä»¶',
                url: 'https://www.miit.gov.cn',
                description: 'å·¥ä¸šå’Œä¿¡æ¯åŒ–éƒ¨æ”¿ç­–æ–‡ä»¶å‘å¸ƒ'
            },
            {
                id: 5,
                deptId: 4,
                name: 'äººåŠ›èµ„æºç¤¾ä¼šä¿éšœéƒ¨',
                url: 'http://www.mohrss.gov.cn',
                description: 'äººç¤¾éƒ¨ç›¸å…³æ”¿ç­–å’Œç”³æŠ¥ç³»ç»Ÿ'
            },
            {
                id: 6,
                deptId: 5,
                name: 'å•†åŠ¡éƒ¨ä¸šåŠ¡ç³»ç»Ÿ',
                url: 'http://www.mofcom.gov.cn',
                description: 'å•†åŠ¡éƒ¨é¡¹ç›®ç”³æŠ¥å’Œä¸šåŠ¡åŠç†'
            },
            {
                id: 7,
                deptId: 6,
                name: 'å›½å®¶å‘æ”¹å§”',
                url: 'https://www.ndrc.gov.cn',
                description: 'å›½å®¶å‘å±•æ”¹é©å§”æ”¿ç­–å‘å¸ƒ'
            },
            {
                id: 8,
                deptId: 7,
                name: 'è´¢æ”¿éƒ¨',
                url: 'http://www.mof.gov.cn',
                description: 'è´¢æ”¿éƒ¨é—¨ç›¸å…³æ”¿ç­–å’Œèµ„é‡‘ç”³æŠ¥'
            }
        ];
        
        let currentDeptId = null;
        let originalWebsites = [...websites]; // ä¿å­˜åŸå§‹æ•°æ®ç”¨äºæœç´¢
        
        // åˆå§‹åŒ–é¡µé¢
        function initPage() {
            renderDepartments();
            updateWebsiteManagement();
        }
        
        // æ¸²æŸ“éƒ¨é—¨åˆ—è¡¨
        function renderDepartments() {
            const deptList = document.getElementById('deptList');
            deptList.innerHTML = '';
            
            departments.forEach(dept => {
                const deptItem = document.createElement('div');
                deptItem.className = 'dept-item';
                
                const deptBtn = document.createElement('button');
                deptBtn.className = 'dept-btn';
                deptBtn.textContent = dept.name;
                deptBtn.onclick = () => showWebsitesByDept(dept.id);
                
                deptItem.appendChild(deptBtn);
                deptList.appendChild(deptItem);
            });
        }
        
        // æ˜¾ç¤ºæŒ‡å®šéƒ¨é—¨çš„ç½‘ç«™
        function showWebsitesByDept(deptId) {
            currentDeptId = deptId;
            const dept = departments.find(d => d.id === deptId);
            document.getElementById('currentDept').textContent = dept.name;
            
            const websiteGrid = document.getElementById('websiteGrid');
            const deptWebsites = websites.filter(w => w.deptId === deptId);
            
            if (deptWebsites.length === 0) {
                websiteGrid.innerHTML = `
                    <div class="empty-state">
                        <div>ğŸ”</div>
                        <h3>æš‚æ— ç›¸å…³ç½‘ç«™</h3>
                        <p>è¯¥éƒ¨é—¨æš‚æœªæ·»åŠ ç›¸å…³ç½‘ç«™</p>
                    </div>
                `;
                return;
            }
            
            websiteGrid.innerHTML = '';
            deptWebsites.forEach(website => {
                const card = document.createElement('div');
                card.className = 'website-card';
                card.innerHTML = `
                    <div class="website-title">${website.name}</div>
                    <div class="website-desc">${website.description}</div>
                    <a href="${website.url}" target="_blank" class="website-link">è®¿é—®ç½‘ç«™</a>
                `;
                websiteGrid.appendChild(card);
            });
            
            // é«˜äº®é€‰ä¸­çš„éƒ¨é—¨æŒ‰é’®
            document.querySelectorAll('.dept-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }
        
        // æœç´¢ç½‘ç«™
        function searchWebsites() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const websiteGrid = document.getElementById('websiteGrid');
            
            if (!searchTerm) {
                if (currentDeptId) {
                    showWebsitesByDept(currentDeptId);
                } else {
                    websiteGrid.innerHTML = `
                        <div class="empty-state">
                            <div>ğŸ“‹</div>
                            <h3>è¯·é€‰æ‹©å·¦ä¾§éƒ¨é—¨æŸ¥çœ‹ç›¸å…³ç½‘ç«™</h3>
                            <p>ç‚¹å‡»å·¦ä¾§æ”¿åºœéƒ¨é—¨æŒ‰é’®ï¼ŒæŸ¥çœ‹å¯¹åº”çš„æ”¿ç­–ç”³æŠ¥ç½‘ç«™</p>
                        </div>
                    `;
                }
                return;
            }
            
            const filteredWebsites = originalWebsites.filter(website => 
                website.name.toLowerCase().includes(searchTerm) ||
                website.description.toLowerCase().includes(searchTerm) ||
                website.url.toLowerCase().includes(searchTerm)
            );
            
            if (filteredWebsites.length === 0) {
                websiteGrid.innerHTML = `
                    <div class="empty-state">
                        <div>ğŸ”</div>
                        <h3>æœªæ‰¾åˆ°åŒ¹é…çš„ç½‘ç«™</h3>
                        <p>å°è¯•ä½¿ç”¨å…¶ä»–å…³é”®è¯æœç´¢</p>
                    </div>
                `;
                return;
            }
            
            websiteGrid.innerHTML = '';
            filteredWebsites.forEach(website => {
                const card = document.createElement('div');
                card.className = 'website-card';
                card.innerHTML = `
                    <div class="website-title">${website.name}</div>
                    <div class="website-desc">${website.description}</div>
                    <a href="${website.url}" target="_blank" class="website-link">è®¿é—®ç½‘ç«™</a>
                `;
                websiteGrid.appendChild(card);
            });
        }
        
        // æ˜¾ç¤ºç®¡ç†åå°
        function showAdminPanel() {
            document.getElementById('adminModal').style.display = 'block';
            updateDeptSelect();
        }
        
        // éšè—ç®¡ç†åå°
        function hideAdminPanel() {
            document.getElementById('adminModal').style.display = 'none';
        }
        
        // æ›´æ–°éƒ¨é—¨é€‰æ‹©ä¸‹æ‹‰æ¡†
        function updateDeptSelect() {
            const select = document.getElementById('websiteDept');
            select.innerHTML = '';
            
            departments.forEach(dept => {
                const option = document.createElement('option');
                option.value = dept.id;
                option.textContent = dept.name;
                select.appendChild(option);
            });
        }
        
        // æ·»åŠ éƒ¨é—¨
        function addDepartment() {
            const deptName = document.getElementById('newDeptName').value.trim();
            if (!deptName) {
                alert('è¯·è¾“å…¥éƒ¨é—¨åç§°');
                return;
            }
            
            const newDept = {
                id: Date.now(),
                name: deptName
            };
            
            departments.push(newDept);
            renderDepartments();
            updateWebsiteManagement();
            document.getElementById('newDeptName').value = '';
            updateDeptSelect();
            
            alert('éƒ¨é—¨æ·»åŠ æˆåŠŸï¼');
        }
        
        // æ·»åŠ ç½‘ç«™
        function addWebsite() {
            const deptId = document.getElementById('websiteDept').value;
            const name = document.getElementById('websiteName').value.trim();
            const url = document.getElementById('websiteUrl').value.trim();
            const desc = document.getElementById('websiteDesc').value.trim();
            
            if (!deptId || !name || !url) {
                alert('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯');
                return;
            }
            
            const newWebsite = {
                id: Date.now(),
                deptId: parseInt(deptId),
                name: name,
                url: url,
                description: desc || 'æš‚æ— æè¿°'
            };
            
            websites.push(newWebsite);
            originalWebsites.push(newWebsite);
            
            if (currentDeptId == deptId) {
                showWebsitesByDept(currentDeptId);
            }
            
            updateWebsiteManagement();
            
            // æ¸…ç©ºè¡¨å•
            document.getElementById('websiteName').value = '';
            document.getElementById('websiteUrl').value = '';
            document.getElementById('websiteDesc').value = '';
            
            alert('ç½‘ç«™æ·»åŠ æˆåŠŸï¼');
        }
        
        // åˆ é™¤ç½‘ç«™
        function deleteWebsite(websiteId) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç½‘ç«™å—ï¼Ÿ')) {
                websites = websites.filter(w => w.id !== websiteId);
                originalWebsites = originalWebsites.filter(w => w.id !== websiteId);
                
                if (currentDeptId) {
                    showWebsitesByDept(currentDeptId);
                }
                
                updateWebsiteManagement();
                alert('ç½‘ç«™åˆ é™¤æˆåŠŸï¼');
            }
        }
        
        // æ›´æ–°ç½‘ç«™ç®¡ç†åˆ—è¡¨
        function updateWebsiteManagement() {
            const managementDiv = document.getElementById('websiteManagement');
            managementDiv.innerHTML = '';
            
            websites.forEach(website => {
                const dept = departments.find(d => d.id === website.deptId);
                const websiteDiv = document.createElement('div');
                websiteDiv.className = 'website-management-item';
                websiteDiv.innerHTML = `
                    <div style="border: 1px solid #eee; padding: 10px; margin: 5px 0; border-radius: 5px;">
                        <strong>${website.name}</strong> (${dept.name})<br>
                        <small>${website.url}</small><br>
                        <small>${website.description}</small><br>
                        <button class="btn btn-danger" onclick="deleteWebsite(${website.id})" style="margin-top: 5px;">åˆ é™¤</button>
                    </div>
                `;
                managementDiv.appendChild(websiteDiv);
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = function() {
            initPage();
        };
        
        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.onclick = function(event) {
            const modal = document.getElementById('adminModal');
            if (event.target === modal) {
                hideAdminPanel();
            }
        };
    </script>
</body>
</html>